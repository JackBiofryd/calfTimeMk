{"version":3,"sources":["shared/components/Button.js","shared/components/NavLinks.js","shared/images/logo.png","shared/components/Navbar.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","shared/components/Alert.js","shared/hooks/http-hook.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","utils/validators.js","shared/images/cowGrass.png","utils/dates.js","shared/components/Input.js","shared/hooks/form-hook.js","shared/components/ImageUpload.js","cows/pages/AddCow.js"],"names":["Button","props","href","className","color","danger","inverse","block","extraClasses","style","children","to","exact","type","onClick","disabled","NavLinks","auth","useContext","AuthContext","isLoggedIn","Fragment","logout","Navbar","context","fixed","src","logo","alt","isDarkMode","document","querySelector","classList","remove","add","setIsDarkMode","prevMode","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","Alert","getIconClassName","message","code","useHttp","useState","isLoading","setIsLoading","error","setError","useCallback","a","url","method","body","headers","fetch","response","json","data","Error","ok","msg","_defineProperty","obj","value","configurable","writable","REQUIRED","MIN_LENGTH","MAX_LENGTH","IS_EMAIL","IS_DATE","IS_OVER","num","dateRegex","validate","validators","isValid","validator","trim","test","Number","DATE_FORMAT","getTodaysDate","moment","format","toFormatedDate","date","getDueDate","fertilizationDate","dueDate","getCheckingDate","startDate","endDate","cowIsDue","startDueDate","subtract","endDueDate","isAfter","isBefore","isSame","cowShouldBeChecked","inputReducer","state","action","isTouched","Input","useReducer","initialValue","initialValid","dispatch","id","onInput","useEffect","htmlFor","name","label","onChange","e","notRequired","onBlur","placeholder","autoComplete","min","errorText","formReducer","formValidity","inputId","inputs","isFormValid","newInputs","newFormValidity","useForm","initialInputs","initialFormValidity","ImageUpload","file","setFile","previewUrl","setPreviewUrl","setIsValid","fileTooBig","setFileTooBig","filePickerRef","useRef","fileReader","FileReader","onload","result","readAsDataURL","display","accept","ref","pickedFile","fileIsValid","files","size","initialUrl","current","click","AddCow","sendRequest","tag","birthDate","motherTag","fertDate","antibioticDate","milk","image","inputChangeHandler","showAddDetails","setShowAddDetails","gender","setGender","history","useHistory","formSubmitHandler","preventDefault","newCow","bornOn","mother","dueOn","checkingDates","formData","FormData","append","JSON","stringify","process","Authorization","token","console","genderChangeHandler","onSubmit","checked","margin","cowImage"],"mappings":"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","file":"static/js/7.6c66ca22.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function Button(props) {\r\n\tif (props.href) {\r\n\t\treturn (\r\n\t\t\t<a\r\n\t\t\t\thref={props.href}\r\n\t\t\t\tclassName={`btn ${props.color && `btn-${props.color}`} ${\r\n\t\t\t\t\tprops.danger && 'btn-danger'\r\n\t\t\t\t} ${props.inverse && 'btn-inverse'} ${\r\n\t\t\t\t\tprops.block && 'btn-block'\r\n\t\t\t\t} ${props.extraClasses}`}\r\n\t\t\t\tstyle={props.style}>\r\n\t\t\t\t{props.children}\r\n\t\t\t</a>\r\n\t\t);\r\n\t}\r\n\r\n\tif (props.to) {\r\n\t\treturn (\r\n\t\t\t<Link\r\n\t\t\t\tto={props.to}\r\n\t\t\t\texact={props.exact}\r\n\t\t\t\tclassName={`btn ${props.color && `btn-${props.color}`} ${\r\n\t\t\t\t\tprops.danger && 'btn-danger'\r\n\t\t\t\t} ${props.inverse && 'btn-inverse'} ${\r\n\t\t\t\t\tprops.block && 'btn-block'\r\n\t\t\t\t} ${props.extraClasses}`}\r\n\t\t\t\tstyle={props.style}>\r\n\t\t\t\t{props.children}\r\n\t\t\t</Link>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<button\r\n\t\t\ttype={props.type}\r\n\t\t\tonClick={props.onClick}\r\n\t\t\tdisabled={props.disabled}\r\n\t\t\tclassName={`btn ${props.color && `btn-${props.color}`} ${\r\n\t\t\t\tprops.danger && 'btn-danger'\r\n\t\t\t} ${props.inverse && 'btn-inverse'} ${props.block && 'btn-block'} ${\r\n\t\t\t\tprops.extraClasses\r\n\t\t\t} ${props.disabled && 'btn-disabled'}`}\r\n\t\t\tstyle={props.style}>\r\n\t\t\t{props.children}\r\n\t\t</button>\r\n\t);\r\n}\r\n","import React, { useContext } from 'react';\r\nimport Button from './Button';\r\nimport AuthContext from '../../context/auth-context';\r\n\r\nexport default function NavLinks() {\r\n\tconst auth = useContext(AuthContext);\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<ul className=\"nav-links\">\r\n\t\t\t\t{auth.isLoggedIn && (\r\n\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<Button to=\"/cows\">COWS</Button>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<Button onClick={auth.logout}>LOGOUT</Button>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t)}\r\n\t\t\t\t{!auth.isLoggedIn && (\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<Button to=\"/login\">LOGIN</Button>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t)}\r\n\t\t\t\t{!auth.isLoggedIn && (\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<Button to=\"/signup\">SIGN UP</Button>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t)}\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t);\r\n}\r\n","export default __webpack_public_path__ + \"static/media/logo.6237e665.png\";","import React, { useContext } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport NavLinks from './NavLinks';\r\nimport logo from '../images/logo.png';\r\nimport AuthContext from '../../context/auth-context';\r\n\r\nexport default function Navbar(props) {\r\n\tconst context = useContext(AuthContext);\r\n\r\n\tconst changeThemeColor = () => {\r\n\t\tif (context.isDarkMode) {\r\n\t\t\tdocument.querySelector('html').classList.remove('dark-mode');\r\n\t\t} else {\r\n\t\t\tdocument.querySelector('html').classList.add('dark-mode');\r\n\t\t}\r\n\t\tcontext.setIsDarkMode(prevMode => !prevMode);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<nav className={`main-navbar py-1 ${props.fixed && 'navbar-fixed'}`}>\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\t<Link to=\"/\" className=\"nav-logo\">\r\n\t\t\t\t\t<img className=\"logo\" src={logo} alt=\"Logo\" />\r\n\t\t\t\t\t<h1 className=\"M-heading\">Calf Time</h1>\r\n\t\t\t\t</Link>\r\n\t\t\t\t<NavLinks />\r\n\t\t\t\t<i\r\n\t\t\t\t\tclassName={`fas fa-lightbulb dark-mode-icon ${\r\n\t\t\t\t\t\tcontext.isDarkMode && 'is-dark-mode'\r\n\t\t\t\t\t}`}\r\n\t\t\t\t\tonClick={changeThemeColor}></i>\r\n\t\t\t</div>\r\n\t\t</nav>\r\n\t);\r\n}\r\n","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import React from 'react';\r\n\r\nexport default function Alert(props) {\r\n\tconst getIconClassName = type => {\r\n\t\tswitch (type) {\r\n\t\t\tcase 'error':\r\n\t\t\t\treturn 'fas fa-exclamation-circle';\r\n\t\t\tcase 'info':\r\n\t\t\t\treturn 'fas fa-info-circle';\r\n\t\t\tdefault:\r\n\t\t\t\treturn 'fas icon';\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={`alert-container my-1-5 alert-${props.type}`}>\r\n\t\t\t<i className={`${getIconClassName(props.type)} mr-1`}></i>\r\n\t\t\t<p>\r\n\t\t\t\t{props.message}\r\n\t\t\t\t{props.code && `: ${props.code}`}\r\n\t\t\t</p>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import { useState, useCallback } from 'react';\r\n\r\nexport const useHttp = () => {\r\n\tconst [isLoading, setIsLoading] = useState(false);\r\n\tconst [error, setError] = useState();\r\n\r\n\tconst sendRequest = useCallback(\r\n\t\tasync (url = '', method = 'GET', body = null, headers = {}) => {\r\n\t\t\tsetIsLoading(true);\r\n\t\t\ttry {\r\n\t\t\t\tconst response = await fetch(url, {\r\n\t\t\t\t\tmethod,\r\n\t\t\t\t\tbody,\r\n\t\t\t\t\theaders\r\n\t\t\t\t});\r\n\t\t\t\tlet data;\r\n\t\t\t\ttry {\r\n\t\t\t\t\tdata = await response.json();\r\n\t\t\t\t} catch (err) {\r\n\t\t\t\t\tthrow new Error('Something went wrong, please try again.');\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!response.ok) throw new Error(data.msg);\r\n\r\n\t\t\t\tsetIsLoading(false);\r\n\t\t\t\treturn data;\r\n\t\t\t} catch (err) {\r\n\t\t\t\tsetError(err.message);\r\n\t\t\t\tsetIsLoading(false);\r\n\t\t\t\tthrow err;\r\n\t\t\t}\r\n\t\t},\r\n\t\t[]\r\n\t);\r\n\r\n\treturn [isLoading, error, sendRequest];\r\n};\r\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","export const REQUIRED = () => ({ type: 'REQUIRED' });\r\nexport const MIN_LENGTH = length => ({ type: 'MIN_LENGTH', length });\r\nexport const MAX_LENGTH = length => ({ type: 'MAX_LENGTH', length });\r\nexport const IS_EMAIL = () => ({ type: 'IS_EMAIL' });\r\nexport const IS_DATE = () => ({ type: 'IS_DATE' });\r\nexport const IS_OVER = num => ({ type: 'IS_OVER', num });\r\n\r\nconst dateRegex = /^(?:(?:31(\\/|-|\\.)(?:0?[13578]|1[02]))\\1|(?:(?:29|30)(\\/|-|\\.)(?:0?[13-9]|1[0-2])\\2))(?:(?:1[6-9]|[2-9]\\d)?\\d{2})$|^(?:29(\\/|-|\\.)0?2\\3(?:(?:(?:1[6-9]|[2-9]\\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00))))$|^(?:0?[1-9]|1\\d|2[0-8])(\\/|-|\\.)(?:(?:0?[1-9])|(?:1[0-2]))\\4(?:(?:1[6-9]|[2-9]\\d)?\\d{2})$/;\r\n\r\nexport const validate = (value, validators) => {\r\n\tlet isValid = true;\r\n\tvalidators.forEach(validator => {\r\n\t\tswitch (validator.type) {\r\n\t\t\tcase 'REQUIRED':\r\n\t\t\t\tisValid = isValid && value.trim().length > 0;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'MIN_LENGTH':\r\n\t\t\t\tisValid = isValid && value.trim().length >= validator.length;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'MAX_LENGTH':\r\n\t\t\t\tisValid = isValid && value.trim().length <= validator.length;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'IS_EMAIL':\r\n\t\t\t\tisValid = isValid && /^\\S+@\\S+\\.\\S+$/.test(value);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'IS_DATE':\r\n\t\t\t\tisValid = isValid && dateRegex.test(value);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'IS_OVER':\r\n\t\t\t\tisValid = isValid && Number(value) > validator.num;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t});\r\n\r\n\treturn isValid;\r\n};\r\n","export default __webpack_public_path__ + \"static/media/cowGrass.2d09bc11.png\";","import moment from 'moment';\r\n\r\nconst dateRegex = /^(?:(?:31(\\/|-|\\.)(?:0?[13578]|1[02]))\\1|(?:(?:29|30)(\\/|-|\\.)(?:0?[13-9]|1[0-2])\\2))(?:(?:1[6-9]|[2-9]\\d)?\\d{2})$|^(?:29(\\/|-|\\.)0?2\\3(?:(?:(?:1[6-9]|[2-9]\\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00))))$|^(?:0?[1-9]|1\\d|2[0-8])(\\/|-|\\.)(?:(?:0?[1-9])|(?:1[0-2]))\\4(?:(?:1[6-9]|[2-9]\\d)?\\d{2})$/;\r\nconst DATE_FORMAT = 'DD.MM.YYYY';\r\n\r\nexport const getTodaysDate = () => {\r\n\tconst todayDate = moment();\r\n\r\n\treturn todayDate.format(DATE_FORMAT);\r\n};\r\n\r\nexport const toFormatedDate = date => {\r\n\tif (!date || !dateRegex.test(date)) return;\r\n\r\n\tconst dateObject = moment(date, DATE_FORMAT);\r\n\r\n\treturn dateObject.format(DATE_FORMAT);\r\n};\r\n\r\nexport const getDueDate = fertilizationDate => {\r\n\tif (!fertilizationDate || !dateRegex.test(fertilizationDate)) return;\r\n\r\n\tconst dueDate = moment(fertilizationDate, DATE_FORMAT);\r\n\r\n\tdueDate.add(283, 'days');\r\n\r\n\treturn dueDate.format(DATE_FORMAT);\r\n};\r\n\r\nexport const getCheckingDate = fertilizationDate => {\r\n\tif (!fertilizationDate || !dateRegex.test(fertilizationDate))\r\n\t\treturn {\r\n\t\t\tstartDate: '',\r\n\t\t\tendDate: ''\r\n\t\t};\r\n\r\n\tconst startDate = moment(fertilizationDate, DATE_FORMAT)\r\n\t\t.add(18, 'days')\r\n\t\t.format(DATE_FORMAT);\r\n\tconst endDate = moment(fertilizationDate, DATE_FORMAT)\r\n\t\t.add(26, 'days')\r\n\t\t.format(DATE_FORMAT);\r\n\r\n\treturn {\r\n\t\tstartDate,\r\n\t\tendDate\r\n\t};\r\n};\r\n\r\nexport const cowIsDue = (dueDate, date = getTodaysDate()) => {\r\n\tif (!dueDate || !dateRegex.test(dueDate)) return;\r\n\r\n\tdate = moment(toFormatedDate(date), DATE_FORMAT);\r\n\tconst startDueDate = moment(toFormatedDate(dueDate), DATE_FORMAT).subtract(\r\n\t\t10,\r\n\t\t'days'\r\n\t);\r\n\tconst endDueDate = moment(toFormatedDate(dueDate), DATE_FORMAT).add(\r\n\t\t10,\r\n\t\t'days'\r\n\t);\r\n\r\n\treturn (\r\n\t\t(date.isAfter(startDueDate) && date.isBefore(endDueDate)) ||\r\n\t\tdate.isSame(startDueDate) ||\r\n\t\tdate.isSame(endDueDate)\r\n\t);\r\n};\r\n\r\nexport const cowShouldBeChecked = (\r\n\tstartDate,\r\n\tendDate,\r\n\tdate = getTodaysDate()\r\n) => {\r\n\tstartDate = moment(startDate, DATE_FORMAT);\r\n\tendDate = moment(endDate, DATE_FORMAT);\r\n\tdate = moment(date, DATE_FORMAT);\r\n\r\n\treturn (\r\n\t\t(date.isAfter(startDate) && date.isBefore(endDate)) ||\r\n\t\tdate.isSame(startDate) ||\r\n\t\tdate.isSame(endDate)\r\n\t);\r\n};\r\n\r\nexport const dateIsAfter = (date1, date2) => {\r\n\tdate1 = moment(date1, DATE_FORMAT);\r\n\tdate2 = moment(date2, DATE_FORMAT);\r\n\r\n\treturn date1.isAfter(date2);\r\n};\r\n","import React, { useReducer, useEffect } from 'react';\r\nimport { validate } from '../../utils/validators';\r\n\r\nconst inputReducer = (state, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase 'CHANGE':\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tvalue: action.value,\r\n\t\t\t\tisValid: action.isValid\r\n\t\t\t};\r\n\t\tcase 'TOUCH':\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisTouched: true\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default function Input(props) {\r\n\tconst [state, dispatch] = useReducer(inputReducer, {\r\n\t\tvalue: props.initialValue || '',\r\n\t\tisValid: props.initialValid || false,\r\n\t\tisTouched: false\r\n\t});\r\n\r\n\tconst handleChange = e => {\r\n\t\tconst { value } = e.target;\r\n\t\tlet isValid = true;\r\n\t\tprops?.validators && (isValid = validate(value, props.validators));\r\n\t\t// If its not required and user hasnt inputed anything, cancel the validation and just set it to true\r\n\t\tif (props.notRequired && !value) {\r\n\t\t\tisValid = true;\r\n\t\t}\r\n\r\n\t\tdispatch({ type: 'CHANGE', value, isValid });\r\n\t};\r\n\r\n\tconst handleBlur = () => dispatch({ type: 'TOUCH' });\r\n\r\n\tconst { id, onInput } = props;\r\n\tconst { value, isValid } = state;\r\n\r\n\tuseEffect(() => {\r\n\t\tonInput(id, value, isValid);\r\n\t}, [value, isValid, id, onInput]);\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName={`form-group my-1-5 center ${\r\n\t\t\t\t!state.isValid && state.isTouched && 'form-group-invalid'\r\n\t\t\t}`}>\r\n\t\t\t<label htmlFor={props.name} className=\"form-label lead\">\r\n\t\t\t\t{props.label}\r\n\t\t\t</label>\r\n\t\t\t<input\r\n\t\t\t\ttype={props.type}\r\n\t\t\t\tvalue={state.value}\r\n\t\t\t\tname={props.name}\r\n\t\t\t\tid={props.id}\r\n\t\t\t\tonChange={handleChange}\r\n\t\t\t\tclassName={`input ${\r\n\t\t\t\t\t!state.isValid && state.isTouched && 'input-invalid'\r\n\t\t\t\t}`}\r\n\t\t\t\tonBlur={handleBlur}\r\n\t\t\t\tplaceholder={props.placeholder}\r\n\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\tmin={props.min}\r\n\t\t\t/>\r\n\t\t\t{!state.isValid && state.isTouched && (\r\n\t\t\t\t<small className=\"erorr-text\">{props.errorText}</small>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n}\r\n","import { useReducer, useCallback } from 'react';\r\n\r\nconst formReducer = (state, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase 'CHANGE':\r\n\t\t\tlet formValidity = true;\r\n\t\t\tfor (const inputId in state.inputs) {\r\n\t\t\t\tif (inputId === action.id) {\r\n\t\t\t\t\tformValidity = formValidity && action.isValid;\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tformValidity = formValidity && state.inputs[inputId].isValid;\r\n\t\t\t}\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tinputs: {\r\n\t\t\t\t\t...state.inputs,\r\n\t\t\t\t\t[action.id]: {\r\n\t\t\t\t\t\tvalue: action.value,\r\n\t\t\t\t\t\tisValid: action.isValid\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tisFormValid: formValidity\r\n\t\t\t};\r\n\t\tcase 'SET_DATA':\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tinputs: action.newInputs,\r\n\t\t\t\tisFormValid: action.newFormValidity\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport const useForm = (initialInputs, initialFormValidity) => {\r\n\tconst [state, dispatch] = useReducer(formReducer, {\r\n\t\tinputs: initialInputs,\r\n\t\tisFormValid: initialFormValidity\r\n\t});\r\n\r\n\tconst inputChangeHandler = useCallback(\r\n\t\t(id, value, isValid) =>\r\n\t\t\tdispatch({ type: 'CHANGE', id, value, isValid }),\r\n\t\t[]\r\n\t);\r\n\r\n\tconst setFormData = useCallback(\r\n\t\t(newInputs, newFormValidity) =>\r\n\t\t\tdispatch({ type: 'SET_DATA', newInputs, newFormValidity }),\r\n\t\t[]\r\n\t);\r\n\r\n\treturn [state, inputChangeHandler, setFormData];\r\n};\r\n","import React, { useRef, useState, useEffect } from 'react';\r\n\r\nimport Button from './Button';\r\n\r\nexport default function ImageUpload(props) {\r\n\tconst [file, setFile] = useState();\r\n\tconst [previewUrl, setPreviewUrl] = useState();\r\n\tconst [isValid, setIsValid] = useState();\r\n\tconst [fileTooBig, setFileTooBig] = useState();\r\n\r\n\tconst filePickerRef = useRef();\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!file) return;\r\n\r\n\t\tconst fileReader = new FileReader();\r\n\t\tfileReader.onload = () => {\r\n\t\t\tsetPreviewUrl(fileReader.result);\r\n\t\t};\r\n\t\tfileReader.readAsDataURL(file);\r\n\t}, [file]);\r\n\r\n\tconst pickImageHandler = () => filePickerRef.current.click();\r\n\r\n\tconst pickedHandler = e => {\r\n\t\tlet fileIsValid = isValid;\r\n\r\n\t\tlet pickedFile;\r\n\t\tif (e.target.files && e.target.files.length === 1) {\r\n\t\t\tpickedFile = e.target.files[0];\r\n\t\t\tif (pickedFile.size > 500000) {\r\n\t\t\t\tsetFile(pickedFile);\r\n\t\t\t\tsetFileTooBig(true);\r\n\t\t\t\tsetIsValid(false);\r\n\t\t\t\tfileIsValid = false;\r\n\t\t\t} else {\r\n\t\t\t\tsetFile(pickedFile);\r\n\t\t\t\tsetFileTooBig(false);\r\n\t\t\t\tsetIsValid(true);\r\n\t\t\t\tfileIsValid = true;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tsetIsValid(false);\r\n\t\t\tfileIsValid = false;\r\n\t\t}\r\n\r\n\t\tprops.onInput(props.id, pickedFile, fileIsValid);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"form-group center mb-1\">\r\n\t\t\t<input\r\n\t\t\t\ttype=\"file\"\r\n\t\t\t\tid={props.id}\r\n\t\t\t\tstyle={{ display: 'none' }}\r\n\t\t\t\taccept=\".jpg,.png,.jpeg\"\r\n\t\t\t\tref={filePickerRef}\r\n\t\t\t\tonChange={pickedHandler}\r\n\t\t\t/>\r\n\t\t\t<div className=\"image-upload center\">\r\n\t\t\t\t{(previewUrl || props.initialUrl) && (\r\n\t\t\t\t\t<div className=\"image-upload-preview\">\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tsrc={previewUrl || props.initialUrl}\r\n\t\t\t\t\t\t\talt=\"Preview\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\tonClick={pickImageHandler}\r\n\t\t\t\t\textraClasses=\"border\">\r\n\t\t\t\t\tUpload Cow Image\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t\t{fileTooBig && file && <p className=\"error\">Image too big.</p>}\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useContext, useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport AuthContext from '../../context/auth-context';\r\nimport Navbar from '../../shared/components/Navbar';\r\nimport Input from '../../shared/components/Input';\r\nimport Button from '../../shared/components/Button';\r\nimport Loading from '../../shared/components/Loading';\r\nimport ImageUpload from '../../shared/components/ImageUpload';\r\nimport cowImage from '../../shared/images/cowGrass.png';\r\nimport { useForm } from '../../shared/hooks/form-hook';\r\nimport { useHttp } from '../../shared/hooks/http-hook';\r\nimport {\r\n\tREQUIRED,\r\n\tMIN_LENGTH,\r\n\tIS_DATE,\r\n\tIS_OVER,\r\n\tMAX_LENGTH\r\n} from '../../utils/validators';\r\nimport {\r\n\tgetTodaysDate,\r\n\ttoFormatedDate,\r\n\tgetDueDate,\r\n\tgetCheckingDate\r\n} from '../../utils/dates';\r\nimport Alert from '../../shared/components/Alert';\r\n\r\nexport default function AddCow() {\r\n\tconst [isLoading, error, sendRequest] = useHttp();\r\n\tconst [state, inputChangeHandler] = useForm(\r\n\t\t{\r\n\t\t\ttag: {\r\n\t\t\t\tvalue: '',\r\n\t\t\t\tisValid: false\r\n\t\t\t},\r\n\t\t\tname: {\r\n\t\t\t\tvalue: '',\r\n\t\t\t\tisValid: false\r\n\t\t\t},\r\n\t\t\tbirthDate: {\r\n\t\t\t\tvalue: '',\r\n\t\t\t\tisValid: true\r\n\t\t\t},\r\n\t\t\tmotherTag: {\r\n\t\t\t\tvalue: '',\r\n\t\t\t\tisValid: true\r\n\t\t\t},\r\n\t\t\tfertDate: {\r\n\t\t\t\tvalue: '',\r\n\t\t\t\tisValid: true\r\n\t\t\t},\r\n\t\t\tantibioticDate: {\r\n\t\t\t\tvalue: '',\r\n\t\t\t\tisValid: true\r\n\t\t\t},\r\n\t\t\tmilk: {\r\n\t\t\t\tvalue: 0,\r\n\t\t\t\tisValid: true\r\n\t\t\t},\r\n\t\t\timage: {\r\n\t\t\t\tvalue: null,\r\n\t\t\t\tisValid: true\r\n\t\t\t}\r\n\t\t},\r\n\t\tfalse\r\n\t);\r\n\tconst [showAddDetails, setShowAddDetails] = useState(false);\r\n\tconst [gender, setGender] = useState('male');\r\n\tconst auth = useContext(AuthContext);\r\n\tconst history = useHistory();\r\n\r\n\tconst formSubmitHandler = async e => {\r\n\t\te.preventDefault();\r\n\r\n\t\tconst newCow = {\r\n\t\t\ttag: state.inputs.tag.value,\r\n\t\t\tname: state.inputs.name.value,\r\n\t\t\tbornOn:\r\n\t\t\t\ttoFormatedDate(state.inputs.birthDate.value) || getTodaysDate(),\r\n\t\t\tmother: state.inputs.motherTag.value,\r\n\t\t\tfertDate: toFormatedDate(state.inputs.fertDate.value) || '',\r\n\t\t\tdueOn: getDueDate(state.inputs.fertDate.value) || '',\r\n\t\t\tchildren: [],\r\n\t\t\tcheckingDates: getCheckingDate(state.inputs.fertDate.value),\r\n\t\t\tmilk: state.inputs.milk.value || 0,\r\n\t\t\tantibioticDate: state.inputs.antibioticDate.value || '',\r\n\t\t\tgender\r\n\t\t};\r\n\r\n\t\ttry {\r\n\t\t\tconst formData = new FormData();\r\n\t\t\tformData.append('cow', JSON.stringify(newCow));\r\n\t\t\tformData.append('image', state.inputs.image.value);\r\n\r\n\t\t\tawait sendRequest(\r\n\t\t\t\t`${process.env.REACT_APP_BACKEND_URL}/cows`,\r\n\t\t\t\t'POST',\r\n\t\t\t\tformData,\r\n\t\t\t\t{\r\n\t\t\t\t\tAuthorization: `Bearer ${auth.token}`\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t\thistory.push('/cows');\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error(err);\r\n\t\t}\r\n\t};\r\n\r\n\tconst genderChangeHandler = e => setGender(e.target.value);\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<Navbar />\r\n\t\t\t{isLoading && <Loading />}\r\n\t\t\t{!isLoading && (\r\n\t\t\t\t<div className=\"container p-1\">\r\n\t\t\t\t\t<form\r\n\t\t\t\t\t\tclassName=\"form my-3 p-2\"\r\n\t\t\t\t\t\tonSubmit={formSubmitHandler}>\r\n\t\t\t\t\t\t<h1 className=\"center L-heading mb-1\">\r\n\t\t\t\t\t\t\tAdd <span className=\"text-primary\">Cow</span>\r\n\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t\t{error && <Alert message={error} type=\"error\" />}\r\n\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tlabel=\"Tag\"\r\n\t\t\t\t\t\t\tplaceholder=\"Enter Tag...\"\r\n\t\t\t\t\t\t\tname=\"tag\"\r\n\t\t\t\t\t\t\tid=\"tag\"\r\n\t\t\t\t\t\t\tvalidators={[MIN_LENGTH(4), MAX_LENGTH(20)]}\r\n\t\t\t\t\t\t\terrorText=\"Please Input A Valid Tag\"\r\n\t\t\t\t\t\t\tonInput={inputChangeHandler}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\tlabel=\"Name\"\r\n\t\t\t\t\t\t\tplaceholder=\"Enter Name...\"\r\n\t\t\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\t\t\tid=\"name\"\r\n\t\t\t\t\t\t\tvalidators={[REQUIRED(), MAX_LENGTH(20)]}\r\n\t\t\t\t\t\t\terrorText=\"Please Input A Valid Name\"\r\n\t\t\t\t\t\t\tonInput={inputChangeHandler}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<div className=\"radio-container center mb-2 mt-0-5\">\r\n\t\t\t\t\t\t\t<label htmlFor=\"gender\">Gender</label>\r\n\t\t\t\t\t\t\t<div className=\"radio-inputs\">\r\n\t\t\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\ttype=\"radio\"\r\n\t\t\t\t\t\t\t\t\t\tname=\"gender\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"gender\"\r\n\t\t\t\t\t\t\t\t\t\tvalue=\"male\"\r\n\t\t\t\t\t\t\t\t\t\tchecked={gender === 'male'}\r\n\t\t\t\t\t\t\t\t\t\tonChange={genderChangeHandler}\r\n\t\t\t\t\t\t\t\t\t/>{' '}\r\n\t\t\t\t\t\t\t\t\tMale\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\ttype=\"radio\"\r\n\t\t\t\t\t\t\t\t\t\tname=\"gender\"\r\n\t\t\t\t\t\t\t\t\t\tid=\"gender\"\r\n\t\t\t\t\t\t\t\t\t\tvalue=\"female\"\r\n\t\t\t\t\t\t\t\t\t\tchecked={gender === 'female'}\r\n\t\t\t\t\t\t\t\t\t\tonChange={genderChangeHandler}\r\n\t\t\t\t\t\t\t\t\t/>{' '}\r\n\t\t\t\t\t\t\t\t\tFemale\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{!showAddDetails && (\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\textraClasses=\"mb-2\"\r\n\t\t\t\t\t\t\t\tonClick={() => setShowAddDetails(true)}\r\n\t\t\t\t\t\t\t\tstyle={{ margin: 'auto auto 2rem auto' }}>\r\n\t\t\t\t\t\t\t\tAdd Extra Details\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{showAddDetails && (\r\n\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"Mother Tag\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Enter Tag of Mother...\"\r\n\t\t\t\t\t\t\t\t\tname=\"motherTag\"\r\n\t\t\t\t\t\t\t\t\tid=\"motherTag\"\r\n\t\t\t\t\t\t\t\t\tvalidators={[MIN_LENGTH(4), MAX_LENGTH(20)]}\r\n\t\t\t\t\t\t\t\t\terrorText=\"Please Input A Valid Tag\"\r\n\t\t\t\t\t\t\t\t\tnotRequired\r\n\t\t\t\t\t\t\t\t\tonInput={inputChangeHandler}\r\n\t\t\t\t\t\t\t\t\tinitialValid\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"Birth Date\"\r\n\t\t\t\t\t\t\t\t\tplaceholder={`Enter Date (${getTodaysDate()})`}\r\n\t\t\t\t\t\t\t\t\tname=\"birthDate\"\r\n\t\t\t\t\t\t\t\t\tid=\"birthDate\"\r\n\t\t\t\t\t\t\t\t\terrorText=\"Please Input A Valid Birth Date\"\r\n\t\t\t\t\t\t\t\t\tvalidators={[IS_DATE()]}\r\n\t\t\t\t\t\t\t\t\tnotRequired\r\n\t\t\t\t\t\t\t\t\tonInput={inputChangeHandler}\r\n\t\t\t\t\t\t\t\t\tinitialValid\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"Fertilization Date\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Enter Date...\"\r\n\t\t\t\t\t\t\t\t\tname=\"fertDate\"\r\n\t\t\t\t\t\t\t\t\tid=\"fertDate\"\r\n\t\t\t\t\t\t\t\t\tvalidators={[IS_DATE()]}\r\n\t\t\t\t\t\t\t\t\tnotRequired\r\n\t\t\t\t\t\t\t\t\terrorText=\"Please Input A Valid Fertilization Date (Leave Empty For None)\"\r\n\t\t\t\t\t\t\t\t\tonInput={inputChangeHandler}\r\n\t\t\t\t\t\t\t\t\tinitialValid\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"Antibiotic Date\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Enter Date ...\"\r\n\t\t\t\t\t\t\t\t\tname=\"antibioticDate\"\r\n\t\t\t\t\t\t\t\t\tid=\"antibioticDate\"\r\n\t\t\t\t\t\t\t\t\tvalidators={[IS_DATE()]}\r\n\t\t\t\t\t\t\t\t\tnotRequired\r\n\t\t\t\t\t\t\t\t\terrorText=\"Please Input A Valid Date (Leave Empty For None)\"\r\n\t\t\t\t\t\t\t\t\tonInput={inputChangeHandler}\r\n\t\t\t\t\t\t\t\t\tinitialValid\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\tlabel=\"Liters Of Milk\"\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"Enter Liters (0)\"\r\n\t\t\t\t\t\t\t\t\tname=\"milk\"\r\n\t\t\t\t\t\t\t\t\tid=\"milk\"\r\n\t\t\t\t\t\t\t\t\tnotRequired\r\n\t\t\t\t\t\t\t\t\tvalidators={[IS_OVER(-1)]}\r\n\t\t\t\t\t\t\t\t\terrorText=\"Please Input A Valid Number\"\r\n\t\t\t\t\t\t\t\t\tonInput={inputChangeHandler}\r\n\t\t\t\t\t\t\t\t\tmin=\"0\"\r\n\t\t\t\t\t\t\t\t\tinitialValid\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<ImageUpload\r\n\t\t\t\t\t\t\t\t\tid=\"image\"\r\n\t\t\t\t\t\t\t\t\tonInput={inputChangeHandler}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\tblock\r\n\t\t\t\t\t\t\tdisabled={!state.isFormValid}\r\n\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\textraClasses=\"my-1\">\r\n\t\t\t\t\t\t\tAdd Cow\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tsrc={cowImage}\r\n\t\t\t\t\t\t\tclassName=\"cow-img\"\r\n\t\t\t\t\t\t\talt=\"Cow Eating Grass\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n}\r\n"],"sourceRoot":""}