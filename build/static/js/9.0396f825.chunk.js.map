{"version":3,"sources":["shared/components/Button.js","shared/components/NavLinks.js","shared/images/logo.png","shared/components/Navbar.js","shared/components/Alert.js","shared/hooks/http-hook.js","utils/dates.js","shared/images/placeholderCow.png","cows/components/CowItem.js","cows/components/CowsList.js","cows/pages/UserCows.js"],"names":["Button","props","href","className","color","danger","inverse","block","extraClasses","style","children","to","exact","type","onClick","disabled","NavLinks","auth","useContext","AuthContext","isLoggedIn","Fragment","logout","Navbar","context","fixed","src","logo","alt","isDarkMode","document","querySelector","classList","remove","add","setIsDarkMode","prevMode","Alert","getIconClassName","message","code","useHttp","useState","isLoading","setIsLoading","error","setError","useCallback","a","url","method","body","headers","fetch","response","json","data","Error","ok","msg","dateRegex","DATE_FORMAT","getTodaysDate","moment","format","toFormatedDate","date","test","getDueDate","fertilizationDate","dueDate","getCheckingDate","startDate","endDate","cowIsDue","startDueDate","subtract","endDueDate","isAfter","isBefore","isSame","cowShouldBeChecked","CowItem","displayOnly","dueOn","gender","image","process","placeholderImage","tag","name","bornOn","milk","antibioticDate","id","fertDate","undefined","checkingDates","onDelete","CowsList","cows","length","map","cow","mother","UserCows","sendRequest","setCows","dueNum","setDueNum","checkingNum","setCheckingNum","filteredCows","setFilteredCows","useEffect","Authorization","token","responseData","dueCowsNum","checkingCowsNum","console","fetchCows","userId","handleCowDelete","Loading","placeholder","onChange","e","cowsFilteredByTag","filter","includes","target","value","filterCows"],"mappings":"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","file":"static/js/9.0396f825.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function Button(props) {\r\n\tif (props.href) {\r\n\t\treturn (\r\n\t\t\t<a\r\n\t\t\t\thref={props.href}\r\n\t\t\t\tclassName={`btn ${props.color && `btn-${props.color}`} ${\r\n\t\t\t\t\tprops.danger && 'btn-danger'\r\n\t\t\t\t} ${props.inverse && 'btn-inverse'} ${\r\n\t\t\t\t\tprops.block && 'btn-block'\r\n\t\t\t\t} ${props.extraClasses}`}\r\n\t\t\t\tstyle={props.style}>\r\n\t\t\t\t{props.children}\r\n\t\t\t</a>\r\n\t\t);\r\n\t}\r\n\r\n\tif (props.to) {\r\n\t\treturn (\r\n\t\t\t<Link\r\n\t\t\t\tto={props.to}\r\n\t\t\t\texact={props.exact}\r\n\t\t\t\tclassName={`btn ${props.color && `btn-${props.color}`} ${\r\n\t\t\t\t\tprops.danger && 'btn-danger'\r\n\t\t\t\t} ${props.inverse && 'btn-inverse'} ${\r\n\t\t\t\t\tprops.block && 'btn-block'\r\n\t\t\t\t} ${props.extraClasses}`}\r\n\t\t\t\tstyle={props.style}>\r\n\t\t\t\t{props.children}\r\n\t\t\t</Link>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<button\r\n\t\t\ttype={props.type}\r\n\t\t\tonClick={props.onClick}\r\n\t\t\tdisabled={props.disabled}\r\n\t\t\tclassName={`btn ${props.color && `btn-${props.color}`} ${\r\n\t\t\t\tprops.danger && 'btn-danger'\r\n\t\t\t} ${props.inverse && 'btn-inverse'} ${props.block && 'btn-block'} ${\r\n\t\t\t\tprops.extraClasses\r\n\t\t\t} ${props.disabled && 'btn-disabled'}`}\r\n\t\t\tstyle={props.style}>\r\n\t\t\t{props.children}\r\n\t\t</button>\r\n\t);\r\n}\r\n","import React, { useContext } from 'react';\r\nimport Button from './Button';\r\nimport AuthContext from '../../context/auth-context';\r\n\r\nexport default function NavLinks() {\r\n\tconst auth = useContext(AuthContext);\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<ul className=\"nav-links\">\r\n\t\t\t\t{auth.isLoggedIn && (\r\n\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<Button to=\"/cows\">КРАВИ</Button>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t<Button onClick={auth.logout}>ОДЈАВИ СЕ</Button>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t)}\r\n\t\t\t\t{!auth.isLoggedIn && (\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<Button to=\"/login\">ЛОГИРАЈ СЕ</Button>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t)}\r\n\t\t\t\t{!auth.isLoggedIn && (\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<Button to=\"/signup\">РЕГИСТРИРАЈ СЕ</Button>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t)}\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t);\r\n}\r\n","export default __webpack_public_path__ + \"static/media/logo.6237e665.png\";","import React, { useContext } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport NavLinks from './NavLinks';\r\nimport logo from '../images/logo.png';\r\nimport AuthContext from '../../context/auth-context';\r\n\r\nexport default function Navbar(props) {\r\n\tconst context = useContext(AuthContext);\r\n\r\n\tconst changeThemeColor = () => {\r\n\t\tif (context.isDarkMode) {\r\n\t\t\tdocument.querySelector('html').classList.remove('dark-mode');\r\n\t\t} else {\r\n\t\t\tdocument.querySelector('html').classList.add('dark-mode');\r\n\t\t}\r\n\t\tcontext.setIsDarkMode(prevMode => !prevMode);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<nav className={`main-navbar py-1 ${props.fixed && 'navbar-fixed'}`}>\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\t<Link to=\"/\" className=\"nav-logo\">\r\n\t\t\t\t\t<img className=\"logo\" src={logo} alt=\"Logo\" />\r\n\t\t\t\t\t<h1 className=\"M-heading\">Calf Time</h1>\r\n\t\t\t\t</Link>\r\n\t\t\t\t<NavLinks />\r\n\t\t\t\t<i\r\n\t\t\t\t\tclassName={`fas fa-lightbulb dark-mode-icon ${\r\n\t\t\t\t\t\tcontext.isDarkMode && 'is-dark-mode'\r\n\t\t\t\t\t}`}\r\n\t\t\t\t\tonClick={changeThemeColor}></i>\r\n\t\t\t</div>\r\n\t\t</nav>\r\n\t);\r\n}\r\n","import React from 'react';\r\n\r\nexport default function Alert(props) {\r\n\tconst getIconClassName = type => {\r\n\t\tswitch (type) {\r\n\t\t\tcase 'error':\r\n\t\t\t\treturn 'fas fa-exclamation-circle';\r\n\t\t\tcase 'info':\r\n\t\t\t\treturn 'fas fa-info-circle';\r\n\t\t\tdefault:\r\n\t\t\t\treturn 'fas icon';\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={`alert-container my-1-5 alert-${props.type}`}>\r\n\t\t\t<i className={`${getIconClassName(props.type)} mr-1`}></i>\r\n\t\t\t<p>\r\n\t\t\t\t{props.message}\r\n\t\t\t\t{props.code && `: ${props.code}`}\r\n\t\t\t</p>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import { useState, useCallback } from 'react';\r\n\r\nexport const useHttp = () => {\r\n\tconst [isLoading, setIsLoading] = useState(false);\r\n\tconst [error, setError] = useState();\r\n\r\n\tconst sendRequest = useCallback(\r\n\t\tasync (url = '', method = 'GET', body = null, headers = {}) => {\r\n\t\t\tsetIsLoading(true);\r\n\t\t\ttry {\r\n\t\t\t\tconst response = await fetch(url, {\r\n\t\t\t\t\tmethod,\r\n\t\t\t\t\tbody,\r\n\t\t\t\t\theaders\r\n\t\t\t\t});\r\n\t\t\t\tlet data;\r\n\t\t\t\ttry {\r\n\t\t\t\t\tdata = await response.json();\r\n\t\t\t\t} catch (err) {\r\n\t\t\t\t\tthrow new Error('Something went wrong, please try again.');\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!response.ok) throw new Error(data.msg);\r\n\r\n\t\t\t\tsetIsLoading(false);\r\n\t\t\t\treturn data;\r\n\t\t\t} catch (err) {\r\n\t\t\t\tsetError(err.message);\r\n\t\t\t\tsetIsLoading(false);\r\n\t\t\t\tthrow err;\r\n\t\t\t}\r\n\t\t},\r\n\t\t[]\r\n\t);\r\n\r\n\treturn [isLoading, error, sendRequest];\r\n};\r\n","import moment from 'moment';\r\n\r\nconst dateRegex = /^(?:(?:31(\\/|-|\\.)(?:0?[13578]|1[02]))\\1|(?:(?:29|30)(\\/|-|\\.)(?:0?[13-9]|1[0-2])\\2))(?:(?:1[6-9]|[2-9]\\d)?\\d{2})$|^(?:29(\\/|-|\\.)0?2\\3(?:(?:(?:1[6-9]|[2-9]\\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00))))$|^(?:0?[1-9]|1\\d|2[0-8])(\\/|-|\\.)(?:(?:0?[1-9])|(?:1[0-2]))\\4(?:(?:1[6-9]|[2-9]\\d)?\\d{2})$/;\r\nconst DATE_FORMAT = 'DD.MM.YYYY';\r\n\r\nexport const getTodaysDate = () => {\r\n\tconst todayDate = moment();\r\n\r\n\treturn todayDate.format(DATE_FORMAT);\r\n};\r\n\r\nexport const toFormatedDate = date => {\r\n\tif (!date || !dateRegex.test(date)) return;\r\n\r\n\tconst dateObject = moment(date, DATE_FORMAT);\r\n\r\n\treturn dateObject.format(DATE_FORMAT);\r\n};\r\n\r\nexport const getDueDate = fertilizationDate => {\r\n\tif (!fertilizationDate || !dateRegex.test(fertilizationDate)) return;\r\n\r\n\tconst dueDate = moment(fertilizationDate, DATE_FORMAT);\r\n\r\n\tdueDate.add(283, 'days');\r\n\r\n\treturn dueDate.format(DATE_FORMAT);\r\n};\r\n\r\nexport const getCheckingDate = fertilizationDate => {\r\n\tif (!fertilizationDate || !dateRegex.test(fertilizationDate))\r\n\t\treturn {\r\n\t\t\tstartDate: '',\r\n\t\t\tendDate: ''\r\n\t\t};\r\n\r\n\tconst startDate = moment(fertilizationDate, DATE_FORMAT)\r\n\t\t.add(18, 'days')\r\n\t\t.format(DATE_FORMAT);\r\n\tconst endDate = moment(fertilizationDate, DATE_FORMAT)\r\n\t\t.add(26, 'days')\r\n\t\t.format(DATE_FORMAT);\r\n\r\n\treturn {\r\n\t\tstartDate,\r\n\t\tendDate\r\n\t};\r\n};\r\n\r\nexport const cowIsDue = (dueDate, date = getTodaysDate()) => {\r\n\tif (!dueDate || !dateRegex.test(dueDate)) return;\r\n\r\n\tdate = moment(toFormatedDate(date), DATE_FORMAT);\r\n\tconst startDueDate = moment(toFormatedDate(dueDate), DATE_FORMAT).subtract(\r\n\t\t10,\r\n\t\t'days'\r\n\t);\r\n\tconst endDueDate = moment(toFormatedDate(dueDate), DATE_FORMAT).add(\r\n\t\t10,\r\n\t\t'days'\r\n\t);\r\n\r\n\treturn (\r\n\t\t(date.isAfter(startDueDate) && date.isBefore(endDueDate)) ||\r\n\t\tdate.isSame(startDueDate) ||\r\n\t\tdate.isSame(endDueDate)\r\n\t);\r\n};\r\n\r\nexport const cowShouldBeChecked = (\r\n\tstartDate,\r\n\tendDate,\r\n\tdate = getTodaysDate()\r\n) => {\r\n\tstartDate = moment(startDate, DATE_FORMAT);\r\n\tendDate = moment(endDate, DATE_FORMAT);\r\n\tdate = moment(date, DATE_FORMAT);\r\n\r\n\treturn (\r\n\t\t(date.isAfter(startDate) && date.isBefore(endDate)) ||\r\n\t\tdate.isSame(startDate) ||\r\n\t\tdate.isSame(endDate)\r\n\t);\r\n};\r\n\r\nexport const dateIsAfter = (date1, date2) => {\r\n\tdate1 = moment(date1, DATE_FORMAT);\r\n\tdate2 = moment(date2, DATE_FORMAT);\r\n\r\n\treturn date1.isAfter(date2);\r\n};\r\n","export default __webpack_public_path__ + \"static/media/placeholderCow.dc244408.png\";","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { cowIsDue, cowShouldBeChecked } from '../../utils/dates';\r\nimport placeholderImage from '../../shared/images/placeholderCow.png';\r\n\r\nexport default function CowItem(props) {\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName={`cow-item ${props.displayOnly ? 'my-3' : 'my-4'} mx-1 ${\r\n\t\t\t\tcowIsDue(props.dueOn) && 'cow-due'\r\n\t\t\t}`}>\r\n\t\t\t<div className={`cow-item-spacing ${props.gender}`}></div>\r\n\t\t\t<div className=\"cow-item-image\">\r\n\t\t\t\t<img\r\n\t\t\t\t\tsrc={\r\n\t\t\t\t\t\tprops.image\r\n\t\t\t\t\t\t\t? `${process.env.REACT_APP_BACKEND_URL}/cows/image/${props.image}`\r\n\t\t\t\t\t\t\t: placeholderImage\r\n\t\t\t\t\t}\r\n\t\t\t\t\talt=\"Your Cow\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className=\"cow-item-info p-1\">\r\n\t\t\t\t<div className=\"cow-item-all\">\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\t<strong>Маркица:</strong> {props.tag}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<p className=\"mb-1\">\r\n\t\t\t\t\t\t<strong>Име:</strong> {props.name}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\t<strong>Родена на:</strong> {props.bornOn}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t{props.gender === 'female' && (\r\n\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t<strong>Литри млеко: </strong> {props.milk}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\t<strong>Дата на антибиотик:</strong>{' '}\r\n\t\t\t\t\t\t{props.antibioticDate}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\t<strong>Мајка и Деца:</strong>{' '}\r\n\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\tto={`/cows/relatives/${props.id}`}\r\n\t\t\t\t\t\t\tclassName=\"text-primary\">\r\n\t\t\t\t\t\t\tВиди роднини\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t{props.gender === 'female' && (\r\n\t\t\t\t\t<div className=\"cow-item-dates\">\r\n\t\t\t\t\t\t{props.fertDate && (\r\n\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t<p className=\"my-0-5\">\r\n\t\t\t\t\t\t\t\t\t<strong>Дата на оплодување:</strong>{' '}\r\n\t\t\t\t\t\t\t\t\t{props.fertDate}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t<strong>Дата за пораѓање:</strong>{' '}\r\n\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\t\t\t\t\tcowIsDue(props.dueOn)\r\n\t\t\t\t\t\t\t\t\t\t\t\t? 'text-danger'\r\n\t\t\t\t\t\t\t\t\t\t\t\t: undefined\r\n\t\t\t\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t\t\t\t{cowIsDue(props.dueOn) && (\r\n\t\t\t\t\t\t\t\t\t\t\t<i className=\"fas fa-exclamation-triangle mx-0-5\"></i>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t{props.dueOn}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t<strong>Дати за проверка: </strong>{' '}\r\n\t\t\t\t\t\t\t\t\t{props.checkingDates && (\r\n\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\t\t\t\t\t\tcowShouldBeChecked(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tprops.checkingDates\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.startDate,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tprops.checkingDates.endDate\r\n\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t? 'text-warning'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t: undefined\r\n\t\t\t\t\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t\t\t\t\t{cowShouldBeChecked(\r\n\t\t\t\t\t\t\t\t\t\t\t\tprops.checkingDates.startDate,\r\n\t\t\t\t\t\t\t\t\t\t\t\tprops.checkingDates.endDate\r\n\t\t\t\t\t\t\t\t\t\t\t) && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i className=\"fas fa-exclamation-triangle mx-0-5\"></i>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t{`${props.checkingDates.startDate} - ${props.checkingDates.endDate}`}\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{!props.displayOnly && (\r\n\t\t\t\t\t<div className=\"cow-item-buttons\">\r\n\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\tto={`/cows/edit/${props.id}`}\r\n\t\t\t\t\t\t\tclassName=\"fas fa-pen icon-primary\"></Link>\r\n\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\tclassName=\"fas fa-trash icon-primary\"\r\n\t\t\t\t\t\t\tonClick={() => props.onDelete(props.id)}></i>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport CowItem from './CowItem';\r\nimport Button from '../../shared/components/Button';\r\n\r\nexport default function CowsList(props) {\r\n\tif (!props.cows || props.cows?.length === 0) {\r\n\t\treturn (\r\n\t\t\t<div className=\"center my-4\">\r\n\t\t\t\t<h1 className=\"mb-1\">Не се пронајдени крави.</h1>\r\n\t\t\t\t<Button to=\"/cows/new\" inverse>\r\n\t\t\t\t\tДодај крава\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t{props.cows.map(cow => (\r\n\t\t\t\t<CowItem\r\n\t\t\t\t\tkey={cow.id}\r\n\t\t\t\t\tid={cow.id}\r\n\t\t\t\t\tname={cow.name}\r\n\t\t\t\t\ttag={cow.tag}\r\n\t\t\t\t\tfertDate={cow.fertDate}\r\n\t\t\t\t\tdueOn={cow.dueOn}\r\n\t\t\t\t\tbornOn={cow.bornOn}\r\n\t\t\t\t\timage={cow.image}\r\n\t\t\t\t\tmother={cow.mother}\r\n\t\t\t\t\tchildren={cow.children}\r\n\t\t\t\t\tonDelete={props.onDelete}\r\n\t\t\t\t\tcheckingDates={cow.checkingDates}\r\n\t\t\t\t\tmilk={cow.milk}\r\n\t\t\t\t\tantibioticDate={cow.antibioticDate}\r\n\t\t\t\t\tgender={cow.gender}\r\n\t\t\t\t/>\r\n\t\t\t))}\r\n\t\t</React.Fragment>\r\n\t);\r\n}\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Navbar from '../../shared/components/Navbar';\r\nimport CowsList from '../components/CowsList';\r\nimport Alert from '../../shared/components/Alert';\r\nimport AuthContext from '../../context/auth-context';\r\nimport { useHttp } from '../../shared/hooks/http-hook';\r\nimport Loading from '../../shared/components/Loading';\r\n\r\nexport default function UserCows() {\r\n\tconst auth = useContext(AuthContext);\r\n\tconst [isLoading, error, sendRequest] = useHttp();\r\n\tconst [cows, setCows] = useState();\r\n\tconst [dueNum, setDueNum] = useState(0);\r\n\tconst [checkingNum, setCheckingNum] = useState(0);\r\n\tconst [filteredCows, setFilteredCows] = useState();\r\n\r\n\tuseEffect(() => {\r\n\t\tconst fetchCows = async () => {\r\n\t\t\ttry {\r\n\t\t\t\tconst responseData = await sendRequest(\r\n\t\t\t\t\t`${process.env.REACT_APP_BACKEND_URL}/cows/user`,\r\n\t\t\t\t\t'GET',\r\n\t\t\t\t\tnull,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tAuthorization: `Bearer ${auth.token}`\r\n\t\t\t\t\t}\r\n\t\t\t\t);\r\n\t\t\t\tsetCows(responseData.cows);\r\n\t\t\t\tsetDueNum(responseData.dueCowsNum);\r\n\t\t\t\tsetCheckingNum(responseData.checkingCowsNum);\r\n\t\t\t} catch (err) {\r\n\t\t\t\tconsole.error(err);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tfetchCows();\r\n\t}, [auth.token, auth.userId, sendRequest]);\r\n\r\n\tconst handleCowDelete = async id => {\r\n\t\ttry {\r\n\t\t\tawait sendRequest(\r\n\t\t\t\t`${process.env.REACT_APP_BACKEND_URL}/cows/${id}`,\r\n\t\t\t\t'DELETE',\r\n\t\t\t\tnull,\r\n\t\t\t\t{\r\n\t\t\t\t\tAuthorization: `Bearer ${auth.token}`\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error(err);\r\n\t\t}\r\n\r\n\t\ttry {\r\n\t\t\tconst responseData = await sendRequest(\r\n\t\t\t\t`${process.env.REACT_APP_BACKEND_URL}/cows/user`,\r\n\t\t\t\t'GET',\r\n\t\t\t\tnull,\r\n\t\t\t\t{\r\n\t\t\t\t\tAuthorization: `Bearer ${auth.token}`\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t\tsetCows(responseData.cows);\r\n\t\t\tsetDueNum(responseData.dueCowsNum);\r\n\t\t\tsetCheckingNum(responseData.checkingCowsNum);\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error(err);\r\n\t\t}\r\n\t};\r\n\r\n\tconst filterCows = e => {\r\n\t\tconst cowsFilteredByTag = cows.filter(\r\n\t\t\tcow =>\r\n\t\t\t\tcow.tag.includes(e.target.value) ||\r\n\t\t\t\tcow.name.includes(e.target.value)\r\n\t\t);\r\n\t\tsetFilteredCows(cowsFilteredByTag);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<Navbar />\r\n\t\t\t{isLoading && <Loading />}\r\n\t\t\t{error && (\r\n\t\t\t\t<div className=\"container my-2\">\r\n\t\t\t\t\t<Alert type=\"error\">{error}</Alert>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t{!error && !isLoading && (\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t{cows && cows.length !== 0 && (\r\n\t\t\t\t\t\t<div className=\"btn-container my-2\">\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Барај по име или маркица...\"\r\n\t\t\t\t\t\t\t\tclassName=\"input my-0-5 mx-1-5\"\r\n\t\t\t\t\t\t\t\tonChange={e => filterCows(e)}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Link to=\"/cows/new\">\r\n\t\t\t\t\t\t\t\t<div className=\"btn-circle-plus\"></div>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{cows && (dueNum !== 0 || checkingNum !== 0) && (\r\n\t\t\t\t\t\t<div className=\"container px-1\">\r\n\t\t\t\t\t\t\t<Alert\r\n\t\t\t\t\t\t\t\tmessage={`Има ${\r\n\t\t\t\t\t\t\t\t\tdueNum === 1\r\n\t\t\t\t\t\t\t\t\t\t? ` ${dueNum} крава`\r\n\t\t\t\t\t\t\t\t\t\t: ` ${dueNum} крави`\r\n\t\t\t\t\t\t\t\t} за пораѓање и ${checkingNum} ${\r\n\t\t\t\t\t\t\t\t\tcheckingNum === 1 ? 'крава' : 'крави'\r\n\t\t\t\t\t\t\t\t} за проверка`}\r\n\t\t\t\t\t\t\t\ttype=\"info\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<CowsList\r\n\t\t\t\t\t\tcows={filteredCows || cows}\r\n\t\t\t\t\t\tonDelete={handleCowDelete}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</React.Fragment>\r\n\t);\r\n}\r\n"],"sourceRoot":""}