(this.webpackJsonpcalftime=this.webpackJsonpcalftime||[]).push([[9],{32:function(e,t,c){"use strict";c.d(t,"a",(function(){return s}));c(0);var n=c(15),a=c(1);function s(e){return e.href?Object(a.jsx)("a",{href:e.href,className:"btn ".concat(e.color&&"btn-".concat(e.color)," ").concat(e.danger&&"btn-danger"," ").concat(e.inverse&&"btn-inverse"," ").concat(e.block&&"btn-block"," ").concat(e.extraClasses),style:e.style,children:e.children}):e.to?Object(a.jsx)(n.b,{to:e.to,exact:e.exact,className:"btn ".concat(e.color&&"btn-".concat(e.color)," ").concat(e.danger&&"btn-danger"," ").concat(e.inverse&&"btn-inverse"," ").concat(e.block&&"btn-block"," ").concat(e.extraClasses),style:e.style,children:e.children}):Object(a.jsx)("button",{type:e.type,onClick:e.onClick,disabled:e.disabled,className:"btn ".concat(e.color&&"btn-".concat(e.color)," ").concat(e.danger&&"btn-danger"," ").concat(e.inverse&&"btn-inverse"," ").concat(e.block&&"btn-block"," ").concat(e.extraClasses," ").concat(e.disabled&&"btn-disabled"),style:e.style,children:e.children})}},35:function(e,t,c){"use strict";c.d(t,"a",(function(){return j}));var n=c(0),a=c.n(n),s=c(15),r=c(32),i=c(14),o=c(1);function l(){var e=Object(n.useContext)(i.a);return Object(o.jsx)("div",{children:Object(o.jsxs)("ul",{className:"nav-links",children:[e.isLoggedIn&&Object(o.jsxs)(a.a.Fragment,{children:[Object(o.jsx)("li",{children:Object(o.jsx)(r.a,{to:"/cows",children:"\u041a\u0420\u0410\u0412\u0418"})}),Object(o.jsx)("li",{children:Object(o.jsx)(r.a,{onClick:e.logout,children:"\u041e\u0414\u0408\u0410\u0412\u0418 \u0421\u0415"})})]}),!e.isLoggedIn&&Object(o.jsx)("li",{children:Object(o.jsx)(r.a,{to:"/login",children:"\u041b\u041e\u0413\u0418\u0420\u0410\u0408 \u0421\u0415"})}),!e.isLoggedIn&&Object(o.jsx)("li",{children:Object(o.jsx)(r.a,{to:"/signup",children:"\u0420\u0415\u0413\u0418\u0421\u0422\u0420\u0418\u0420\u0410\u0408 \u0421\u0415"})})]})})}var d=c.p+"static/media/logo.6237e665.png";function j(e){var t=Object(n.useContext)(i.a);return Object(o.jsx)("nav",{className:"main-navbar py-1 ".concat(e.fixed&&"navbar-fixed"),children:Object(o.jsxs)("div",{className:"container",children:[Object(o.jsxs)(s.b,{to:"/",className:"nav-logo",children:[Object(o.jsx)("img",{className:"logo",src:d,alt:"Logo"}),Object(o.jsx)("h1",{className:"M-heading",children:"Calf Time"})]}),Object(o.jsx)(l,{}),Object(o.jsx)("i",{className:"fas fa-lightbulb dark-mode-icon ".concat(t.isDarkMode&&"is-dark-mode"),onClick:function(){t.isDarkMode?document.querySelector("html").classList.remove("dark-mode"):document.querySelector("html").classList.add("dark-mode"),t.setIsDarkMode((function(e){return!e}))}})]})})}},37:function(e,t,c){"use strict";c.d(t,"a",(function(){return a}));c(0);var n=c(1);function a(e){return Object(n.jsxs)("div",{className:"alert-container my-1-5 alert-".concat(e.type),children:[Object(n.jsx)("i",{className:"".concat(function(e){switch(e){case"error":return"fas fa-exclamation-circle";case"info":return"fas fa-info-circle";default:return"fas icon"}}(e.type)," mr-1")}),Object(n.jsxs)("p",{children:[e.message,e.code&&": ".concat(e.code)]})]})}},38:function(e,t,c){"use strict";c.d(t,"a",(function(){return o}));var n=c(33),a=c.n(n),s=c(34),r=c(8),i=c(0),o=function(){var e=Object(i.useState)(!1),t=Object(r.a)(e,2),c=t[0],n=t[1],o=Object(i.useState)(),l=Object(r.a)(o,2),d=l[0],j=l[1];return[c,d,Object(i.useCallback)(Object(s.a)(a.a.mark((function e(){var t,c,s,r,i,o,l=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:"",c=l.length>1&&void 0!==l[1]?l[1]:"GET",s=l.length>2&&void 0!==l[2]?l[2]:null,r=l.length>3&&void 0!==l[3]?l[3]:{},n(!0),e.prev=5,e.next=8,fetch(t,{method:c,body:s,headers:r});case 8:return i=e.sent,e.prev=9,e.next=12,i.json();case 12:o=e.sent,e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(9),new Error("Something went wrong, please try again.");case 18:if(i.ok){e.next=20;break}throw new Error(o.msg);case 20:return n(!1),e.abrupt("return",o);case 24:throw e.prev=24,e.t1=e.catch(5),j(e.t1.message),n(!1),e.t1;case 29:case"end":return e.stop()}}),e,null,[[5,24],[9,15]])}))),[])]}},42:function(e,t,c){"use strict";c.d(t,"e",(function(){return i})),c.d(t,"f",(function(){return o})),c.d(t,"d",(function(){return l})),c.d(t,"c",(function(){return d})),c.d(t,"a",(function(){return j})),c.d(t,"b",(function(){return u}));var n=c(47),a=c.n(n),s=/^(?:(?:31(\/|-|\.)(?:0?[13578]|1[02]))\1|(?:(?:29|30)(\/|-|\.)(?:0?[13-9]|1[0-2])\2))(?:(?:1[6-9]|[2-9]\d)?\d{2})$|^(?:29(\/|-|\.)0?2\3(?:(?:(?:1[6-9]|[2-9]\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00))))$|^(?:0?[1-9]|1\d|2[0-8])(\/|-|\.)(?:(?:0?[1-9])|(?:1[0-2]))\4(?:(?:1[6-9]|[2-9]\d)?\d{2})$/,r="DD.MM.YYYY",i=function(){return a()().format(r)},o=function(e){if(e&&s.test(e))return a()(e,r).format(r)},l=function(e){if(e&&s.test(e)){var t=a()(e,r);return t.add(283,"days"),t.format(r)}},d=function(e){return e&&s.test(e)?{startDate:a()(e,r).add(18,"days").format(r),endDate:a()(e,r).add(26,"days").format(r)}:{startDate:"",endDate:""}},j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i();if(e&&s.test(e)){t=a()(o(t),r);var c=a()(o(e),r).subtract(10,"days"),n=a()(o(e),r).add(10,"days");return t.isAfter(c)&&t.isBefore(n)||t.isSame(c)||t.isSame(n)}},u=function(e,t){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i();return e=a()(e,r),t=a()(t,r),(c=a()(c,r)).isAfter(e)&&c.isBefore(t)||c.isSame(e)||c.isSame(t)}},46:function(e,t,c){"use strict";t.a=c.p+"static/media/placeholderCow.dc244408.png"},48:function(e,t,c){"use strict";c.d(t,"a",(function(){return l}));var n=c(0),a=c.n(n),s=c(15),r=c(42),i=c(46),o=c(1);function l(e){return Object(o.jsxs)("div",{className:"cow-item ".concat(e.displayOnly?"my-3":"my-4"," mx-1 ").concat(Object(r.a)(e.dueOn)&&"cow-due"),children:[Object(o.jsx)("div",{className:"cow-item-spacing ".concat(e.gender)}),Object(o.jsx)("div",{className:"cow-item-image",children:Object(o.jsx)("img",{src:e.image?"".concat("https://calf-time.herokuapp.com/api","/cows/image/").concat(e.image):i.a,alt:"Your Cow"})}),Object(o.jsxs)("div",{className:"cow-item-info p-1",children:[Object(o.jsxs)("div",{className:"cow-item-all",children:[Object(o.jsxs)("p",{children:[Object(o.jsx)("strong",{children:"\u041c\u0430\u0440\u043a\u0438\u0446\u0430:"})," ",e.tag]}),Object(o.jsxs)("p",{className:"mb-1",children:[Object(o.jsx)("strong",{children:"\u0418\u043c\u0435:"})," ",e.name]}),Object(o.jsxs)("p",{children:[Object(o.jsx)("strong",{children:"\u0420\u043e\u0434\u0435\u043d\u0430 \u043d\u0430:"})," ",e.bornOn]}),"female"===e.gender&&Object(o.jsxs)("p",{children:[Object(o.jsx)("strong",{children:"\u041b\u0438\u0442\u0440\u0438 \u043c\u043b\u0435\u043a\u043e: "})," ",e.milk]}),Object(o.jsxs)("p",{children:[Object(o.jsx)("strong",{children:"\u0414\u0430\u0442\u0430 \u043d\u0430 \u0430\u043d\u0442\u0438\u0431\u0438\u043e\u0442\u0438\u043a:"})," ",e.antibioticDate]}),Object(o.jsxs)("p",{children:[Object(o.jsx)("strong",{children:"\u041c\u0430\u0458\u043a\u0430 \u0438 \u0414\u0435\u0446\u0430:"})," ",Object(o.jsx)(s.b,{to:"/cows/relatives/".concat(e.id),className:"text-primary",children:"\u0412\u0438\u0434\u0438 \u0440\u043e\u0434\u043d\u0438\u043d\u0438"})]})]}),"female"===e.gender&&Object(o.jsx)("div",{className:"cow-item-dates",children:e.fertDate&&Object(o.jsxs)(a.a.Fragment,{children:[Object(o.jsxs)("p",{className:"my-0-5",children:[Object(o.jsx)("strong",{children:"\u0414\u0430\u0442\u0430 \u043d\u0430 \u043e\u043f\u043b\u043e\u0434\u0443\u0432\u0430\u045a\u0435:"})," ",e.fertDate]}),Object(o.jsxs)("p",{children:[Object(o.jsx)("strong",{children:"\u0414\u0430\u0442\u0430 \u0437\u0430 \u043f\u043e\u0440\u0430\u0453\u0430\u045a\u0435:"})," ",Object(o.jsxs)("span",{className:Object(r.a)(e.dueOn)?"text-danger":void 0,children:[Object(r.a)(e.dueOn)&&Object(o.jsx)("i",{className:"fas fa-exclamation-triangle mx-0-5"}),e.dueOn]})]}),Object(o.jsxs)("p",{children:[Object(o.jsx)("strong",{children:"\u0414\u0430\u0442\u0438 \u0437\u0430 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430: "})," ",e.checkingDates&&Object(o.jsxs)("span",{className:Object(r.b)(e.checkingDates.startDate,e.checkingDates.endDate)?"text-warning":void 0,children:[Object(r.b)(e.checkingDates.startDate,e.checkingDates.endDate)&&Object(o.jsx)("i",{className:"fas fa-exclamation-triangle mx-0-5"}),"".concat(e.checkingDates.startDate," - ").concat(e.checkingDates.endDate)]})]})]})}),!e.displayOnly&&Object(o.jsxs)("div",{className:"cow-item-buttons",children:[Object(o.jsx)(s.b,{to:"/cows/edit/".concat(e.id),className:"fas fa-pen icon-primary"}),Object(o.jsx)("i",{className:"fas fa-trash icon-primary",onClick:function(){return e.onDelete(e.id)}})]})]})]})}},58:function(e,t,c){"use strict";c.r(t),c.d(t,"default",(function(){return g}));var n=c(33),a=c.n(n),s=c(34),r=c(8),i=c(0),o=c.n(i),l=c(15),d=c(35),j=c(48),u=c(32),b=c(1);function m(e){var t;return e.cows&&0!==(null===(t=e.cows)||void 0===t?void 0:t.length)?Object(b.jsx)(o.a.Fragment,{children:e.cows.map((function(t){return Object(b.jsx)(j.a,{id:t.id,name:t.name,tag:t.tag,fertDate:t.fertDate,dueOn:t.dueOn,bornOn:t.bornOn,image:t.image,mother:t.mother,children:t.children,onDelete:e.onDelete,checkingDates:t.checkingDates,milk:t.milk,antibioticDate:t.antibioticDate,gender:t.gender},t.id)}))}):Object(b.jsxs)("div",{className:"center my-4",children:[Object(b.jsx)("h1",{className:"mb-1",children:"\u041d\u0435 \u0441\u0435 \u043f\u0440\u043e\u043d\u0430\u0458\u0434\u0435\u043d\u0438 \u043a\u0440\u0430\u0432\u0438."}),Object(b.jsx)(u.a,{to:"/cows/new",inverse:!0,children:"\u0414\u043e\u0434\u0430\u0458 \u043a\u0440\u0430\u0432\u0430"})]})}var h=c(37),O=c(14),f=c(38),x=c(16);function g(){var e=Object(i.useContext)(O.a),t=Object(f.a)(),c=Object(r.a)(t,3),n=c[0],j=c[1],u=c[2],g=Object(i.useState)(),p=Object(r.a)(g,2),v=p[0],k=p[1],w=Object(i.useState)(0),y=Object(r.a)(w,2),N=y[0],D=y[1],C=Object(i.useState)(0),S=Object(r.a)(C,2),E=S[0],L=S[1],M=Object(i.useState)(),A=Object(r.a)(M,2),B=A[0],I=A[1];Object(i.useEffect)((function(){(function(){var t=Object(s.a)(a.a.mark((function t(){var c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u("".concat("https://calf-time.herokuapp.com/api","/cows/user"),"GET",null,{Authorization:"Bearer ".concat(e.token)});case 3:c=t.sent,k(c.cows),D(c.dueCowsNum),L(c.checkingCowsNum),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}})()()}),[e.token,e.userId,u]);var T=function(){var t=Object(s.a)(a.a.mark((function t(c){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u("".concat("https://calf-time.herokuapp.com/api","/cows/").concat(c),"DELETE",null,{Authorization:"Bearer ".concat(e.token)});case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.error(t.t0);case 8:return t.prev=8,t.next=11,u("".concat("https://calf-time.herokuapp.com/api","/cows/user"),"GET",null,{Authorization:"Bearer ".concat(e.token)});case 11:n=t.sent,k(n.cows),D(n.dueCowsNum),L(n.checkingCowsNum),t.next=20;break;case 17:t.prev=17,t.t1=t.catch(8),console.error(t.t1);case 20:case"end":return t.stop()}}),t,null,[[0,5],[8,17]])})));return function(e){return t.apply(this,arguments)}}();return Object(b.jsxs)(o.a.Fragment,{children:[Object(b.jsx)(d.a,{}),n&&Object(b.jsx)(x.a,{}),j&&Object(b.jsx)("div",{className:"container my-2",children:Object(b.jsx)(h.a,{type:"error",children:j})}),!j&&!n&&Object(b.jsxs)("div",{className:"container",children:[v&&0!==v.length&&Object(b.jsxs)("div",{className:"btn-container my-2",children:[Object(b.jsx)("input",{type:"text",placeholder:"\u0411\u0430\u0440\u0430\u0458 \u043f\u043e \u0438\u043c\u0435 \u0438\u043b\u0438 \u043c\u0430\u0440\u043a\u0438\u0446\u0430...",className:"input my-0-5 mx-1-5",onChange:function(e){return function(e){var t=v.filter((function(t){return t.tag.includes(e.target.value)||t.name.includes(e.target.value)}));I(t)}(e)}}),Object(b.jsx)(l.b,{to:"/cows/new",children:Object(b.jsx)("div",{className:"btn-circle-plus"})})]}),v&&(0!==N||0!==E)&&Object(b.jsx)("div",{className:"container px-1",children:Object(b.jsx)(h.a,{message:"\u0418\u043c\u0430 ".concat(" ".concat(N,1===N?" \u043a\u0440\u0430\u0432\u0430":" \u043a\u0440\u0430\u0432\u0438")," \u0437\u0430 \u043f\u043e\u0440\u0430\u0453\u0430\u045a\u0435 \u0438 ").concat(E," ").concat(1===E?"\u043a\u0440\u0430\u0432\u0430":"\u043a\u0440\u0430\u0432\u0438"," \u0437\u0430 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430"),type:"info"})}),Object(b.jsx)(m,{cows:B||v,onDelete:T})]})]})}}}]);
//# sourceMappingURL=9.0396f825.chunk.js.map